<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ofx:section xmlns:ofx="http://www.openfuxml.org" id="postgresql">
    <ofx:title>PostgreSQL</ofx:title>
    <ofx:section>
        <ofx:title>OSX</ofx:title>
        <ofx:section>
            <ofx:title>Port</ofx:title>
            <ofx:paragraph>
                sudo port selfupdate
                sudo port upgrade outdated
                sudo port install postgresql92-server
                sudo port install postgis
                
                To create a database instance, after install do
                sudo mkdir -p /opt/local/var/db/postgresql92/data
                sudo chown postgres:postgres /opt/local/var/db/postgresql92/data
                sudo su postgres -c '/opt/local/lib/postgresql92/bin/initdb -D /opt/local/var/db/postgresql92/data'
                
                Success. You can now start the database server using:
                sudo -u postgres /opt/local/lib/postgresql92/bin/postgres -D /opt/local/var/db/postgresql92/data
                or
                /opt/local/lib/postgresql92/bin/pg_ctl -D /opt/local/var/db/postgresql92/data -l logfile start
            </ofx:paragraph>
        </ofx:section>
    </ofx:section>
    <ofx:section>
        <ofx:title>Database</ofx:title>
        <ofx:paragraph>
            /Library/PostgreSQL/9.1/bin/psql -U postgres
            DROP DATABASE listest;
            CREATE USER myUser WITH PASSWORD 'myPwd';
            CREATE DATABASE myDb OWNER myUser ENCODING 'UTF8';
            GRANT ALL PRIVILEGES ON DATABASE myDb TO myUser;
            /Library/PostgreSQL/9.1/bin/psql -U postgres -d lis -f /Library/PostgreSQL/9.1/share/postgresql/contrib/postgis-1.5/postgis.sql
            /Library/PostgreSQL/9.1/bin/psql -U postgres -d lis -f /Library/PostgreSQL/9.1/share/postgresql/contrib/postgis-1.5/postgis_comments.sql
            /Library/PostgreSQL/9.1/bin/psql -U postgres -d lis -f /Library/PostgreSQL/9.1/share/postgresql/contrib/postgis-1.5/spatial_ref_sys.sql
            
            /opt/local/lib/postgresql92/bin/psql -U myUser myDb
            CREATE SCHEMA lcbc;
        </ofx:paragraph>
    </ofx:section>
</ofx:section>